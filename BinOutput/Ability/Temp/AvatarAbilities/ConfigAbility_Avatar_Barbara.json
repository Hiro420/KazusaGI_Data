[
    {
        "Default": {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Barbara_ExtraAttack",
            "abilityMixins": [
                {
                    "$type": "ButtonHoldChargeMixin",
                    "skillID": 10070,
                    "chargeTime": 0.1,
                    "secondChargeTime": 0.1,
                    "OnBeginUncharged": [
                        {
                            "$type": "SetAnimatorTrigger",
                            "triggerID": "DoSkill",
                            "predicates": [
                                {
                                    "$type": "ByAnimatorInt",
                                    "value": 0,
                                    "parameter": "ComboCount",
                                    "logic": "Equal"
                                }
                            ]
                        },
                        {
                            "$type": "SetAnimatorInt",
                            "intID": "SkillID",
                            "value": 99,
                            "predicates": [
                                {
                                    "$type": "ByAnimatorInt",
                                    "value": 0,
                                    "parameter": "ComboCount",
                                    "logic": "Equal"
                                }
                            ]
                        },
                        {
                            "$type": "SetAnimatorBool",
                            "boolID": "IsCharging",
                            "value": false
                        }
                    ],
                    "OnReleaseUncharged": [
                        {
                            "$type": "SetAnimatorTrigger",
                            "triggerID": "DoSkill"
                        },
                        {
                            "$type": "SetAnimatorInt",
                            "intID": "SkillID",
                            "value": 1
                        }
                    ],
                    "OnBeginCharged": [
                        {
                            "$type": "SetAnimatorBool",
                            "boolID": "IsCharging",
                            "value": true
                        }
                    ],
                    "OnReleaseCharged": [
                        {
                            "$type": "SetAnimatorBool",
                            "boolID": "IsCharging",
                            "value": false
                        },
                        {
                            "$type": "SetAnimatorTrigger",
                            "triggerID": "DoSkill"
                        },
                        {
                            "$type": "SetAnimatorInt",
                            "intID": "SkillID",
                            "value": 1
                        }
                    ],
                    "OnBeginSecondCharged": [
                        {
                            "$type": "SetAnimatorTrigger",
                            "triggerID": "DoSkill"
                        },
                        {
                            "$type": "SetAnimatorInt",
                            "intID": "SkillID",
                            "value": 6,
                            "predicates": [
                                {
                                    "$type": "ByLocalAvatarStamina",
                                    "stamina": "%ExtraAttack_Catalyst_Stamina_Cost*%Barbara_ExtraAttack_StaminaCost+%Flexible_Stamina",
                                    "logic": "GreaterOrEqual"
                                }
                            ]
                        },
                        {
                            "$type": "SetAnimatorInt",
                            "intID": "SkillID",
                            "value": 1,
                            "predicates": [
                                {
                                    "$type": "ByLocalAvatarStamina",
                                    "stamina": "%ExtraAttack_Catalyst_Stamina_Cost*%Barbara_ExtraAttack_StaminaCost+%Flexible_Stamina",
                                    "logic": "Lesser"
                                }
                            ]
                        },
                        {
                            "$type": "SetAnimatorBool",
                            "boolID": "IsCharging",
                            "value": false
                        }
                    ],
                    "chargeStateIDs": [
                        "Barbara_Attack01",
                        "Barbara_Attack02",
                        "Barbara_Attack03",
                        "ExtraAttack_BS",
                        "ExtraAttack_Charge",
                        "ExtraAttack",
                        "ExtraAttack_AS"
                    ]
                },
                {
                    "$type": "AttachToStateIDMixin",
                    "stateIDs": [
                        "ExtraAttack_Charge"
                    ],
                    "modifierName": "ExtraAttack_StaminaCost"
                }
            ],
            "modifiers": {
                "ExtraAttack_StaminaCost": {
                    "onAdded": [
                        {
                            "$type": "AvatarSkillStart",
                            "skillID": 10003,
                            "costStaminaRatio": "%Barbara_ExtraAttack_StaminaCost*%ExtraAttack_Catalyst_Stamina_Cost"
                        }
                    ]
                }
            },
            "abilitySpecials": {
                "Barbara_ExtraAttack_StaminaCost": 1,
                "ExtraAttack_Catalyst_Stamina_Cost": 0,
                "Flexible_Stamina": -2
            }
        }
    },
    {
        "Default": {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Barbara_ExtraAttack_FX",
            "onAbilityStart": [
                {
                    "$type": "FireEffect",
                    "effectPattern": "Eff_Barbara_ExtraAttack",
                    "born": {
                        "$type": "ConfigBornByTarget",
                        "offset": {
                            "x": 0,
                            "y": 1,
                            "z": 5
                        },
                        "onGround": true
                    }
                }
            ]
        }
    },
    {
        "Default": {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Barbara_ExtraAttack_Damage",
            "onAdded": [
                {
                    "$type": "ApplyModifier",
                    "modifierName": "Barbara_ExtraAttack_Handler"
                },
                {
                    "$type": "ApplyModifier",
                    "modifierName": "ExtraAttack_GenerateElemBall"
                }
            ],
            "onAbilityStart": [
                {
                    "$type": "TriggerAttackEvent",
                    "targetType": "Enemy",
                    "attackEvent": {
                        "attackPattern": {
                            "$type": "ConfigAttackSphere",
                            "triggerType": "TriggerNoRepeat",
                            "radius": 3.0,
                            "born": {
                                "$type": "ConfigBornBySelf",
                                "offset": {
                                    "x": 0.0,
                                    "y": 0.0,
                                    "z": 5.0
                                }
                            }
                        },
                        "attackInfo": {
                            "canBeModifiedBy": "OriginOwner",
                            "attackTag": "ExtraAttack",
                            "attackProperty": {
                                "damagePercentage": "%Barbara_ExtraAttack",
                                "strikeType": "Default",
                                "elementType": "Water",
                                "elementDurability": 25,
                                "enBreak": 30
                            },
                            "hitPattern": {
                                "onHitEffectName": "Eff_Barbara_ExtraAttack_Hit",
                                "hitLevel": "Heavy",
                                "hitImpulseX": 200,
                                "hitImpulseY": 0,
                                "reboundRatio": 0,
                                "hitHaltTime": 0.0,
                                "hitHaltTimeScale": 0.05,
                                "muteHitText": false
                            },
                            "forceCameraShake": true,
                            "cameraShake": {
                                "shakeType": "CustomVector",
                                "shakeRange": 0.12,
                                "shakeTime": 0.36,
                                "shakeDistance": 30,
                                "shakeDir": {
                                    "x": 0,
                                    "y": -1,
                                    "z": 0
                                },
                                "extension": {
                                    "baseCycle": 0.72,
                                    "cycleDamping": 0,
                                    "rangeAttenuation": 0.3
                                }
                            }
                        }
                    }
                }
            ],
            "modifiers": {
                "Barbara_ExtraAttack_Handler": {
                    "onAttackLanded": []
                },
                "ExtraAttack_GenerateElemBall": {
                    "onAttackLanded": [
                        {
                            "$type": "Predicated",
                            "target": "Target",
                            "targetPredicates": [
                                {
                                    "$type": "ByAttackTags",
                                    "attackTags": [
                                        "ExtraAttack"
                                    ]
                                },
                                {
                                    "$type": "ByEntityTypes",
                                    "entityTypes": [
                                        "Monster"
                                    ]
                                },
                                {
                                    "$type": "ByTargetGlobalValue",
                                    "key": "_ANIMAL_ENTITY_TYPE",
                                    "value": 0,
                                    "compareType": "NoneOrEqual"
                                }
                            ],
                            "successActions": [
                                {
                                    "$type": "ApplyModifier",
                                    "modifierName": "ExtraAttack_Ball",
                                    "target": "Target"
                                }
                            ]
                        }
                    ]
                },
                "ExtraAttack_Ball": {
                    "onAdded": [
                        {
                            "$type": "Randomed",
                            "chance": 0.5,
                            "successActions": [
                                {
                                    "$type": "GenerateElemBall",
                                    "configID": 2018,
                                    "baseEnergy": 3,
                                    "ratio": 1,
                                    "born": {
                                        "$type": "ConfigBornByTarget",
                                        "offset": {
                                            "x": 0.0,
                                            "y": 0.0,
                                            "z": 0.0
                                        }
                                    }
                                }
                            ]
                        }
                    ]
                }
            },
            "abilitySpecials": {
                "Barbara_ExtraAttack": 0
            }
        }
    },
    {
        "Default": {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Barbara_Attack01",
            "onAbilityStart": [
                {
                    "$type": "ApplyModifier",
                    "modifierName": "Eff_Barbara_Attack01",
                    "target": "SelfAttackTarget"
                },
                {
                    "$type": "FireEffect",
                    "effectPattern": "Eff_Barbara_Attack_MagicHit_01",
                    "born": {
                        "$type": "ConfigBornByTarget",
                        "offset": {
                            "x": 0.0,
                            "y": 1.0,
                            "z": 5.0
                        }
                    },
                    "predicates": [
                        {
                            "$type": "ByNot",
                            "predicates": [
                                {
                                    "$type": "ByHasAttackTarget"
                                }
                            ]
                        }
                    ]
                }
            ],
            "modifiers": {
                "Eff_Barbara_Attack01": {
                    "duration": 0.1,
                    "stacking": "Refresh",
                    "onAdded": [
                        {
                            "$type": "TriggerAttackEvent",
                            "target": "Caster",
                            "targetType": "Enemy",
                            "attackEvent": {
                                "attackPattern": {
                                    "$type": "ConfigAttackSphere",
                                    "duration": 0.0,
                                    "triggerType": "TriggerNoRepeat",
                                    "radius": 1.0,
                                    "born": {
                                        "$type": "ConfigBornByAttachPoint",
                                        "attachPointTargetType": "Self",
                                        "attachPointName": "RootNode"
                                    }
                                },
                                "attackInfo": {
                                    "attackTag": "NormalAttack_01",
                                    "attenuationTag": "Barbara_Water_Damage",
                                    "attackProperty": {
                                        "damagePercentage": "%Barbara_NormalAttack_01",
                                        "strikeType": "Default",
                                        "elementType": "Water",
                                        "elementDurability": 25,
                                        "enBreak": 7.35
                                    },
                                    "hitPattern": {
                                        "onHitEffectName": "Eff_Barbara_Attack_MagicHit_01",
                                        "hitLevel": "Shake",
                                        "hitImpulseX": 0,
                                        "hitImpulseY": 0,
                                        "reboundRatio": 0,
                                        "hitHaltTime": 0.0,
                                        "hitHaltTimeScale": 0.05,
                                        "muteHitText": false
                                    },
                                    "forceCameraShake": false
                                }
                            }
                        }
                    ]
                }
            },
            "abilitySpecials": {
                "Barbara_NormalAttack_01": 0
            }
        }
    },
    {
        "Default": {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Barbara_Attack02",
            "onAbilityStart": [
                {
                    "$type": "ApplyModifier",
                    "modifierName": "Eff_Barbara_Attack02",
                    "target": "SelfAttackTarget"
                },
                {
                    "$type": "FireEffect",
                    "effectPattern": "Eff_Barbara_Attack_MagicHit_01",
                    "born": {
                        "$type": "ConfigBornByTarget",
                        "offset": {
                            "x": 0.0,
                            "y": 1.0,
                            "z": 5.0
                        }
                    },
                    "predicates": [
                        {
                            "$type": "ByNot",
                            "predicates": [
                                {
                                    "$type": "ByHasAttackTarget"
                                }
                            ]
                        }
                    ]
                }
            ],
            "modifiers": {
                "Eff_Barbara_Attack02": {
                    "duration": 0.1,
                    "stacking": "Refresh",
                    "onAdded": [
                        {
                            "$type": "TriggerAttackEvent",
                            "target": "Caster",
                            "targetType": "Enemy",
                            "attackEvent": {
                                "attackPattern": {
                                    "$type": "ConfigAttackSphere",
                                    "duration": 0.0,
                                    "triggerType": "TriggerNoRepeat",
                                    "radius": 1.0,
                                    "born": {
                                        "$type": "ConfigBornByAttachPoint",
                                        "attachPointTargetType": "Self",
                                        "attachPointName": "RootNode"
                                    }
                                },
                                "attackInfo": {
                                    "attackTag": "NormalAttack_02",
                                    "attenuationTag": "Barbara_Water_Damage",
                                    "attackProperty": {
                                        "damagePercentage": "%Barbara_NormalAttack_02",
                                        "strikeType": "Default",
                                        "elementType": "Water",
                                        "elementDurability": 25,
                                        "enBreak": 7.5
                                    },
                                    "hitPattern": {
                                        "onHitEffectName": "Eff_Barbara_Attack_MagicHit_01",
                                        "hitLevel": "Shake",
                                        "hitImpulseX": 0,
                                        "hitImpulseY": 0,
                                        "reboundRatio": 0,
                                        "hitHaltTime": 0.0,
                                        "hitHaltTimeScale": 0.05,
                                        "muteHitText": false
                                    },
                                    "forceCameraShake": false
                                }
                            }
                        }
                    ]
                }
            },
            "abilitySpecials": {
                "Barbara_NormalAttack_02": 0
            }
        }
    },
    {
        "Default": {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Barbara_Attack03",
            "onAbilityStart": [
                {
                    "$type": "ApplyModifier",
                    "modifierName": "Eff_Barbara_Attack03",
                    "target": "SelfAttackTarget"
                },
                {
                    "$type": "FireEffect",
                    "effectPattern": "Eff_Barbara_Attack_MagicHit_01",
                    "born": {
                        "$type": "ConfigBornByTarget",
                        "offset": {
                            "x": 0.0,
                            "y": 1.0,
                            "z": 5.0
                        }
                    },
                    "predicates": [
                        {
                            "$type": "ByNot",
                            "predicates": [
                                {
                                    "$type": "ByHasAttackTarget"
                                }
                            ]
                        }
                    ]
                }
            ],
            "modifiers": {
                "Eff_Barbara_Attack03": {
                    "duration": 0.1,
                    "stacking": "Refresh",
                    "onAdded": [
                        {
                            "$type": "TriggerAttackEvent",
                            "target": "Caster",
                            "targetType": "Enemy",
                            "attackEvent": {
                                "attackPattern": {
                                    "$type": "ConfigAttackSphere",
                                    "duration": 0.0,
                                    "triggerType": "TriggerNoRepeat",
                                    "radius": 1.0,
                                    "born": {
                                        "$type": "ConfigBornByAttachPoint",
                                        "attachPointTargetType": "Self",
                                        "attachPointName": "RootNode"
                                    }
                                },
                                "attackInfo": {
                                    "attackTag": "NormalAttack_03",
                                    "attenuationTag": "Barbara_Water_Damage",
                                    "attackProperty": {
                                        "damagePercentage": "%Barbara_NormalAttack_03",
                                        "strikeType": "Default",
                                        "elementType": "Water",
                                        "elementDurability": 25,
                                        "enBreak": 7.5
                                    },
                                    "hitPattern": {
                                        "onHitEffectName": "Eff_Barbara_Attack_MagicHit_01",
                                        "hitLevel": "Shake",
                                        "hitImpulseX": 0,
                                        "hitImpulseY": 0,
                                        "reboundRatio": 0,
                                        "hitHaltTime": 0.0,
                                        "hitHaltTimeScale": 0.0,
                                        "muteHitText": false
                                    },
                                    "forceCameraShake": false
                                }
                            }
                        }
                    ]
                }
            },
            "abilitySpecials": {
                "Barbara_NormalAttack_03": 0
            }
        }
    },
    {
        "Default": {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Barbara_Attack04",
            "onAbilityStart": [
                {
                    "$type": "CreateGadget",
                    "gadgetID": 41014002,
                    "target": "SelfAttackTarget",
                    "campID": 1001,
                    "campTargetType": "Enemy",
                    "born": {
                        "$type": "ConfigBornByTarget",
                        "offset": {
                            "x": 0.0,
                            "y": 0.8,
                            "z": 0.7
                        }
                    },
                    "predicates": [
                        {
                            "$type": "ByHasAttackTarget"
                        }
                    ]
                },
                {
                    "$type": "CreateGadget",
                    "gadgetID": 41014002,
                    "target": "Self",
                    "campID": 1001,
                    "campTargetType": "Enemy",
                    "born": {
                        "$type": "ConfigBornByTarget",
                        "offset": {
                            "x": 0.0,
                            "y": 1.2,
                            "z": 5.0
                        },
                        "onGround": true
                    },
                    "predicates": [
                        {
                            "$type": "ByNot",
                            "predicates": [
                                {
                                    "$type": "ByHasAttackTarget"
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    },
    {
        "Default": {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Barbara_Attack04Damage",
            "onAdded": [
                {
                    "$type": "ApplyModifier",
                    "modifierName": "Attack04_Timer"
                },
                {
                    "$type": "FireEffect",
                    "effectPattern": "Eff_Barbara_Attack_MagicHit_02"
                }
            ],
            "modifiers": {
                "Attack04_Timer": {
                    "duration": 0.48,
                    "stacking": "Refresh",
                    "onRemoved": [
                        {
                            "$type": "TriggerAttackEvent",
                            "targetType": "Enemy",
                            "doOffStage": true,
                            "attackEvent": {
                                "attackPattern": {
                                    "$type": "ConfigAttackSphere",
                                    "duration": 0.0,
                                    "triggerType": "TriggerNoRepeat",
                                    "radius": "%Radius",
                                    "born": {
                                        "$type": "ConfigBornBySelf",
                                        "offset": {
                                            "x": 0.0,
                                            "y": 0.0,
                                            "z": 0.0
                                        }
                                    }
                                },
                                "attackInfo": {
                                    "canBeModifiedBy": "OriginOwner",
                                    "attenuationTag": "Barbara_Water_Damage",
                                    "attackTag": "NormalAttack_04",
                                    "attackProperty": {
                                        "damagePercentage": "%Barbara_NormalAttack_04",
                                        "elementType": "Water",
                                        "elementDurability": 25,
                                        "strikeType": "Default",
                                        "enBreak": 9.45
                                    },
                                    "hitPattern": {
                                        "onHitEffectName": "",
                                        "hitLevel": "Light",
                                        "hitImpulseX": 200,
                                        "hitImpulseY": 0,
                                        "reboundRatio": 0,
                                        "hitHaltTime": 0.0,
                                        "hitHaltTimeScale": 0.05,
                                        "muteHitText": false
                                    },
                                    "forceCameraShake": false,
                                    "cameraShake": {
                                        "shakeType": "Center",
                                        "shakeRange": 0.24,
                                        "shakeTime": 0.18,
                                        "shakeDistance": 30
                                    }
                                }
                            }
                        }
                    ]
                }
            },
            "abilitySpecials": {
                "Damage": 1.2,
                "Radius": 2,
                "Barbara_NormalAttack_04": 0
            }
        }
    },
    {
        "Default": {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Barbara_WetShiled_Clear",
            "onAbilityStart": [
                {
                    "$type": "KillGadget",
                    "gadgetInfo": {
                        "$type": "SelectTargetsByChildren",
                        "configID": 41014005,
                        "sortType": "Default"
                    }
                }
            ]
        }
    },
    {
        "Default": {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Barbara_WetShiled",
            "abilityMixins": [
                {
                    "$type": "DoActionByEnergyChangeMixin",
                    "elementTypes": [
                        "Water",
                        "Rock",
                        "Fire",
                        "Electric",
                        "Grass",
                        "Wind",
                        "Ice"
                    ],
                    "doWhenEnergyMax": true,
                    "onGainEnergyByBall": [
                        {
                            "$type": "ApplyModifier",
                            "modifierName": "WetShiled_GetElementBall",
                            "otherTargets": {
                                "$type": "SelectTargetsByShape",
                                "shapeName": "CircleR2",
                                "centerBasedOn": "Self",
                                "campTargetType": "Self",
                                "campBasedOn": "Self"
                            },
                            "predicates": [
                                {
                                    "$type": "ByEntityTypes",
                                    "entityTypes": [
                                        "Bullet"
                                    ]
                                },
                                {
                                    "$type": "ByUnlockTalentParam",
                                    "talentParam": "Barbara_ExpandShield"
                                }
                            ]
                        }
                    ]
                }
            ],
            "onAbilityStart": [
                {
                    "$type": "AvatarSkillStart",
                    "skillID": 10071,
                    "cdRatio": 1
                },
                {
                    "$type": "AttachModifier",
                    "modifierName": "WetShiled_Impact"
                },
                {
                    "$type": "TriggerBullet",
                    "bulletID": 41014005,
                    "born": {
                        "$type": "ConfigBornByAttachPoint",
                        "attachPointName": "RootNode",
                        "offset": {
                            "x": 0.0,
                            "y": 0.0,
                            "z": 0.0
                        }
                    }
                }
            ],
            "modifiers": {
                "WetShiled_Impact": {
                    "duration": 1.3,
                    "thinkInterval": 0.6,
                    "onThinkInterval": [
                        {
                            "$type": "TriggerAttackEvent",
                            "targetType": "Enemy",
                            "attackEvent": {
                                "attackPattern": {
                                    "$type": "ConfigAttackCircle",
                                    "triggerType": "TriggerNoRepeat",
                                    "fanAngle": 360.0,
                                    "radius": 3.0,
                                    "checkHitScene": true,
                                    "born": {
                                        "$type": "ConfigBornBySelf",
                                        "offset": {
                                            "x": 0.0,
                                            "y": 0.0,
                                            "z": 0.0
                                        }
                                    }
                                },
                                "attackInfo": {
                                    "canBeModifiedBy": "OriginOwner",
                                    "attackTag": "Elemental_Art",
                                    "attenuationTag": "Elemental_Art",
                                    "attackProperty": {
                                        "damagePercentage": "%Elemental_Art_Damage",
                                        "elementType": "Water",
                                        "elementDurability": 25,
                                        "enBreak": 40
                                    },
                                    "hitPattern": {
                                        "onHitEffectName": "default",
                                        "hitLevel": "Heavy",
                                        "hitImpulseX": 800,
                                        "hitImpulseY": 0,
                                        "retreatType": "ByHitDirection",
                                        "reboundRatio": 0,
                                        "hitHaltTime": 0.0,
                                        "hitHaltTimeScale": 0.05,
                                        "muteHitText": false
                                    },
                                    "forceCameraShake": false,
                                    "cameraShake": {}
                                }
                            }
                        }
                    ]
                },
                "WetShiled_GetElementBall": {
                    "duration": 0.3,
                    "onAdded": [
                        {
                            "$type": "AddGlobalValue",
                            "key": "_IsEnhancedShield",
                            "value": 1,
                            "useLimitRange": true,
                            "maxValue": 1,
                            "minValue": 0
                        }
                    ],
                    "onRemoved": [
                        {
                            "$type": "AddGlobalValue",
                            "key": "_IsEnhancedShield",
                            "value": -1,
                            "useLimitRange": true,
                            "maxValue": 1,
                            "minValue": 0
                        }
                    ]
                }
            },
            "abilitySpecials": {
                "Elemental_Art_Damage": 0
            }
        }
    },
    {
        "Default": {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Barbara_WetShiled_Heal",
            "onAdded": [
                {
                    "$type": "ApplyModifier",
                    "modifierName": "WetShiled_Buff"
                },
                {
                    "$type": "ApplyModifier",
                    "modifierName": "WetShiled_AvatarWet_Handler"
                },
                {
                    "$type": "ApplyModifier",
                    "modifierName": "WetShiled_Stamina_Buff",
                    "predicates": [
                        {
                            "$type": "ByUnlockTalentParam",
                            "talentParam": "WetShiled_Stamina"
                        }
                    ]
                }
            ],
            "modifiers": {
                "WetShiled_Buff": {
                    "duration": 25,
                    "onAdded": [
                        {
                            "$type": "HealHP",
                            "amountByCasterMaxHPRatio": "%HealHPOnAdded",
                            "otherTargets": {
                                "$type": "SelectTargetsByShape",
                                "shapeName": "CircleR2",
                                "centerBasedOn": "Self",
                                "campTargetType": "Alliance",
                                "campBasedOn": "Self"
                            },
                            "predicates": [
                                {
                                    "$type": "ByEntityTypes",
                                    "entityTypes": [
                                        "Avatar"
                                    ]
                                }
                            ]
                        },
                        {
                            "$type": "HealHP",
                            "amountByCasterMaxHPRatio": "%HealHPOnAdded*0.6",
                            "otherTargets": {
                                "$type": "SelectTargetsByShape",
                                "shapeName": "CircleR20",
                                "centerBasedOn": "Self",
                                "campTargetType": "Alliance",
                                "campBasedOn": "Self"
                            },
                            "predicates": [
                                {
                                    "$type": "ByEntityTypes",
                                    "entityTypes": [
                                        "Avatar"
                                    ],
                                    "isAuthority": 0
                                },
                                {
                                    "$type": "ByUnlockTalentParam",
                                    "talentParam": "Barbara_Constellation_2"
                                }
                            ]
                        },
                        {
                            "$type": "FireEffect",
                            "effectPattern": "Eff_Barbara_WetShield_HealTeammate",
                            "otherTargets": {
                                "$type": "SelectTargetsByShape",
                                "shapeName": "CircleR20",
                                "centerBasedOn": "Self",
                                "campTargetType": "Alliance",
                                "campBasedOn": "Self"
                            },
                            "predicates": [
                                {
                                    "$type": "ByEntityTypes",
                                    "entityTypes": [
                                        "Avatar"
                                    ],
                                    "isAuthority": 0
                                },
                                {
                                    "$type": "ByUnlockTalentParam",
                                    "talentParam": "Barbara_Constellation_2"
                                }
                            ]
                        }
                    ],
                    "thinkInterval": 1.5,
                    "onThinkInterval": [
                        {
                            "$type": "HealHP",
                            "amountByCasterMaxHPRatio": "%HealHP",
                            "otherTargets": {
                                "$type": "SelectTargetsByShape",
                                "shapeName": "CircleR2",
                                "centerBasedOn": "Self",
                                "campTargetType": "Alliance",
                                "campBasedOn": "Self",
                                "sizeRatio": "%Square"
                            },
                            "predicates": [
                                {
                                    "$type": "ByEntityTypes",
                                    "entityTypes": [
                                        "Avatar"
                                    ]
                                }
                            ]
                        },
                        {
                            "$type": "HealHP",
                            "amountByCasterMaxHPRatio": "%HealHP*0.6",
                            "otherTargets": {
                                "$type": "SelectTargetsByShape",
                                "shapeName": "CircleR20",
                                "centerBasedOn": "Self",
                                "campTargetType": "Alliance",
                                "campBasedOn": "Self"
                            },
                            "predicates": [
                                {
                                    "$type": "ByEntityTypes",
                                    "entityTypes": [
                                        "Avatar"
                                    ],
                                    "isAuthority": 0
                                },
                                {
                                    "$type": "ByUnlockTalentParam",
                                    "talentParam": "Barbara_Constellation_2"
                                }
                            ]
                        },
                        {
                            "$type": "FireEffect",
                            "effectPattern": "Eff_Barbara_WetShield_HealTeammate",
                            "otherTargets": {
                                "$type": "SelectTargetsByShape",
                                "shapeName": "CircleR20",
                                "centerBasedOn": "Self",
                                "campTargetType": "Alliance",
                                "campBasedOn": "Self"
                            },
                            "predicates": [
                                {
                                    "$type": "ByEntityTypes",
                                    "entityTypes": [
                                        "Avatar"
                                    ],
                                    "isAuthority": 0
                                },
                                {
                                    "$type": "ByUnlockTalentParam",
                                    "talentParam": "Barbara_Constellation_2"
                                }
                            ]
                        }
                    ]
                },
                "WetShiled_AvatarWet_Handler": {
                    "duration": 25,
                    "onAdded": [
                        {
                            "$type": "ApplyModifier",
                            "modifierName": "WetShiled_AvatarWet",
                            "otherTargets": {
                                "$type": "SelectTargetsByShape",
                                "shapeName": "CircleR2",
                                "centerBasedOn": "Self",
                                "campTargetType": "Alliance",
                                "campBasedOn": "Self"
                            },
                            "predicates": [
                                {
                                    "$type": "ByEntityTypes",
                                    "entityTypes": [
                                        "Avatar"
                                    ]
                                }
                            ]
                        }
                    ],
                    "thinkInterval": 1.5,
                    "onThinkInterval": [
                        {
                            "$type": "ApplyModifier",
                            "modifierName": "WetShiled_AvatarWet",
                            "otherTargets": {
                                "$type": "SelectTargetsByShape",
                                "shapeName": "CircleR2",
                                "centerBasedOn": "Self",
                                "campTargetType": "Alliance",
                                "campBasedOn": "Self"
                            },
                            "predicates": [
                                {
                                    "$type": "ByEntityTypes",
                                    "entityTypes": [
                                        "Avatar"
                                    ]
                                }
                            ]
                        }
                    ]
                },
                "WetShiled_AvatarWet": {
                    "duration": 8.0,
                    "elementType": "Water",
                    "elementDurability": 25
                },
                "WetShiled_Stamina_Buff": {
                    "duration": 25,
                    "thinkInterval": 0.2,
                    "onThinkInterval": [
                        {
                            "$type": "ApplyModifier",
                            "modifierName": "Barbara_CostStaminaDelta",
                            "otherTargets": {
                                "$type": "SelectTargetsByShape",
                                "shapeName": "CircleR2",
                                "centerBasedOn": "Self",
                                "campTargetType": "Alliance",
                                "campBasedOn": "Self"
                            },
                            "predicates": [
                                {
                                    "$type": "ByEntityTypes",
                                    "entityTypes": [
                                        "Avatar"
                                    ]
                                }
                            ]
                        }
                    ]
                },
                "Barbara_CostStaminaDelta": {
                    "duration": 0.3,
                    "stacking": "Refresh",
                    "properties": {
                        "Actor_CostStaminaRatio": "%Barbara_CostStaminaDelta"
                    }
                }
            },
            "abilitySpecials": {
                "HealHP": 0,
                "HealHPOnAdded": 0,
                "Square": 1,
                "Barbara_CostStaminaDelta": -0.12,
                "Barbara_WetShiled_MaxHP_Heal": 0.1
            }
        }
    },
    {
        "Default": {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Barbara_WetShiled_Impact",
            "onAbilityStart": [
                {
                    "$type": "Predicated",
                    "target": "Target",
                    "targetPredicates": [
                        {
                            "$type": "ByNot",
                            "predicates": [
                                {
                                    "$type": "ByEntityTypes",
                                    "entityTypes": [
                                        "Avatar",
                                        "Equip",
                                        "Field"
                                    ]
                                }
                            ]
                        }
                    ],
                    "successActions": [
                        {
                            "$type": "SendEffectTrigger",
                            "parameter": "onCollision"
                        }
                    ]
                },
                {
                    "$type": "FireEffect",
                    "effectPattern": "Eff_Barbara_WetShield_Collision_Self",
                    "target": "Target",
                    "predicates": [
                        {
                            "$type": "ByNot",
                            "predicates": [
                                {
                                    "$type": "ByEntityTypes",
                                    "entityTypes": [
                                        "Avatar",
                                        "Equip",
                                        "Field"
                                    ]
                                }
                            ]
                        }
                    ],
                    "born": {
                        "$type": "ConfigBornByCollisionPoint"
                    }
                }
            ],
            "onAdded": [
                {
                    "$type": "AttachModifier",
                    "modifierName": "WetShiled_OutFire"
                }
            ],
            "modifiers": {
                "Barbara_WetModifier": {
                    "duration": 15,
                    "stacking": "Unique",
                    "elementType": "Water",
                    "elementDurability": 25,
                    "overrideWeaponElement": true
                },
                "WetShiled_OutFire": {
                    "duration": 15,
                    "thinkInterval": 0.5,
                    "onThinkInterval": [
                        {
                            "$type": "ApplyModifier",
                            "modifierName": "Barbara_WetModifier_test",
                            "otherTargets": {
                                "$type": "SelectTargetsByShape",
                                "shapeName": "CircleR3",
                                "centerBasedOn": "Self",
                                "campTargetType": "All",
                                "campBasedOn": "Self"
                            },
                            "predicates": [
                                {
                                    "$type": "ByEntityTypes",
                                    "entityTypes": [
                                        "Grass"
                                    ]
                                }
                            ]
                        }
                    ]
                },
                "Barbara_WetModifier_test": {
                    "duration": 8,
                    "stacking": "Unique",
                    "elementType": "Water",
                    "elementDurability": 30,
                    "overrideWeaponElement": true,
                    "onAdded": []
                }
            }
        }
    },
    {
        "Default": {
            "$type": "ConfigAbility",
            "abilityName": "Barbara_Eff_WetShiled",
            "abilityMixins": [
                {
                    "$type": "ExtendLifetimeByPickedGadgetMixin",
                    "pickedConfigIDs": [
                        70610001,
                        70610002,
                        70610003,
                        70610004,
                        70610005,
                        70610006,
                        70610007,
                        70610008,
                        70610009,
                        70610010,
                        70610011,
                        70610012,
                        70610013,
                        70610014,
                        70610015,
                        70610016
                    ],
                    "extendLifeTime": "%Delta",
                    "maxExtendLifeTime": "%Max"
                }
            ],
            "onAdded": [
                {
                    "$type": "FireEffect",
                    "effectPattern": "Eff_Barbara_WetShield_BS"
                },
                {
                    "$type": "AttachModifier",
                    "modifierName": "Barbara_WetShiled_Timer"
                },
                {
                    "$type": "AttachModifier",
                    "modifierName": "Barbara_WetShiled_GetElementBall"
                }
            ],
            "modifiers": {
                "Barbara_WetShiled_Timer": {
                    "duration": 1.8,
                    "stacking": "Refresh",
                    "doOffStage": true,
                    "onRemoved": [
                        {
                            "$type": "ApplyModifier",
                            "modifierName": "Barbara_WetShiled_FX"
                        }
                    ]
                },
                "Barbara_WetShiled_FX": {
                    "duration": 25,
                    "onAdded": [
                        {
                            "$type": "AttachEffect",
                            "effectPattern": "Eff_Barbara_WetShield"
                        }
                    ]
                },
                "Barbara_WetShiled_GetElementBall": {
                    "duration": 25,
                    "thinkInterval": 0.3,
                    "onThinkInterval": [
                        {
                            "$type": "SendEffectTrigger",
                            "parameter": "GetElementBall",
                            "effectPattern": "Eff_Barbara_WetShield",
                            "predicates": [
                                {
                                    "$type": "ByTargetGlobalValue",
                                    "key": "_IsEnhancedShield",
                                    "forceByCaster": true,
                                    "value": 1,
                                    "compareType": "Equal"
                                }
                            ]
                        }
                    ]
                }
            },
            "abilitySpecials": {
                "Delta": 0,
                "Max": 0
            }
        }
    },
    {
        "Default": {
            "$type": "ConfigAbility",
            "abilityName": "Barbara_Eff_WetShiled_LifeOver",
            "onAbilityStart": [
                {
                    "$type": "FireEffect",
                    "effectPattern": "Eff_Barbara_WetShield_AS"
                }
            ]
        }
    },
    {
        "Default": {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Barbara_IdolHeal",
            "onAbilityStart": [
                {
                    "$type": "ApplyModifier",
                    "modifierName": "UNIQUE_Barbara_IdolHeal",
                    "target": "AllPlayerAvatars",
                    "predicates": []
                },
                {
                    "$type": "AvatarSkillStart",
                    "skillID": 10072,
                    "cdRatio": 1
                },
                {
                    "$type": "AvatarCameraParam",
                    "lockParam": true,
                    "cameraParam": {
                        "forceRadius": 6.0,
                        "forceRadiusDuration": 0
                    }
                },
                {
                    "$type": "AvatarCameraParam",
                    "doOffStage": true,
                    "lockParam": false,
                    "cameraParam": {
                        "forceRadius": 0.0
                    }
                }
            ],
            "abilityMixins": [
                {
                    "$type": "AttachToStateIDMixin",
                    "stateIDs": [
                        "Barbara_IdolHeal_BS",
                        "Barbara_IdolHeal"
                    ],
                    "modifierName": "IdolHeal_HeadControl"
                },
                {
                    "$type": "AttachToStateIDMixin",
                    "stateIDs": [
                        "Barbara_IdolHeal_BS",
                        "Barbara_IdolHeal"
                    ],
                    "modifierName": "IdolHeal_CameraControl"
                },
                {
                    "$type": "AttachToNormalizedTimeMixin",
                    "stateID": "Barbara_IdolHeal_BS",
                    "modifierName": "IdolHeal_HideWeapon",
                    "normalizeStart": 0,
                    "normalizeEnd": 1
                }
            ],
            "modifiers": {
                "UNIQUE_Barbara_IdolHeal": {
                    "isUnique": true,
                    "duration": 1.167,
                    "onRemoved": [
                        {
                            "$type": "HealHP",
                            "doOffStage": true,
                            "amountByCasterMaxHPRatio": "%HealHP"
                        }
                    ]
                },
                "IdolHeal_HeadControl": {
                    "onAdded": [
                        {
                            "$type": "EnableHeadControl",
                            "enable": false
                        }
                    ],
                    "onRemoved": [
                        {
                            "$type": "EnableHeadControl",
                            "enable": true
                        }
                    ]
                },
                "IdolHeal_HideWeapon": {
                    "onAdded": [
                        {
                            "$type": "TriggerHideWeapon",
                            "visible": false,
                            "partNames": [
                                "equip01",
                                "equip03"
                            ]
                        }
                    ],
                    "onRemoved": [
                        {
                            "$type": "TriggerHideWeapon",
                            "doOffStage": true,
                            "visible": true,
                            "partNames": [
                                "equip01",
                                "equip03"
                            ]
                        }
                    ]
                },
                "IdolHeal_CameraControl": {
                    "onAdded": [
                        {
                            "$type": "ControlEmotion",
                            "toggleBlink": false,
                            "toggleEmoSync": false,
                            "toggleEyeKey": false
                        }
                    ],
                    "onRemoved": [
                        {
                            "$type": "ControlEmotion",
                            "doOffStage": true,
                            "toggleBlink": true,
                            "toggleEmoSync": true,
                            "toggleEyeKey": true
                        }
                    ]
                }
            },
            "abilitySpecials": {
                "HealHP": 0,
                "Time": 1.0
            }
        }
    },
    {
        "Default": {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Barbara_Trigger_Weather",
            "onAbilityStart": [
                {
                    "$type": "ApplyModifier",
                    "modifierName": "UNIQUE_IdolHeal_Weather"
                },
                {
                    "$type": "ApplyModifier",
                    "modifierName": "IdolHeal_Eff_Timer"
                },
                {
                    "$type": "AvatarEnterCameraShot",
                    "cameraMoveCfgPath": "Camera_Barbara_IdolHeal",
                    "predicates": [
                        {
                            "$type": "ByAttackNotHitScene",
                            "attackPattern": {
                                "$type": "ConfigAttackCircle",
                                "triggerType": "TriggerNoRepeat",
                                "height": 0.2,
                                "fanAngle": 30.0,
                                "radius": 1.4,
                                "born": {
                                    "$type": "ConfigBornBySelf",
                                    "offset": {
                                        "x": 0.0,
                                        "y": 1.2,
                                        "z": 0.0
                                    }
                                }
                            }
                        }
                    ]
                }
            ],
            "abilityMixins": [
                {
                    "$type": "AttachToStateIDMixin",
                    "stateIDs": [
                        "Barbara_IdolHeal_BS",
                        "Barbara_IdolHeal"
                    ],
                    "modifierName": "IdolHeal_Mark"
                },
                {
                    "$type": "AttachToStateIDMixin",
                    "stateIDs": [
                        "Barbara_IdolHeal_BS",
                        "Barbara_IdolHeal"
                    ],
                    "modifierName": "Barbara_Invincible"
                },
                {
                    "$type": "AttachToStateIDMixin",
                    "stateIDs": [
                        "Barbara_IdolHeal_BS",
                        "Barbara_IdolHeal"
                    ],
                    "modifierName": "Barbara_IsGhostToEnemy"
                }
            ],
            "modifiers": {
                "IdolHeal_Mark": {
                    "onAdded": [
                        {
                            "$type": "FireEffect",
                            "effectPattern": "Eff_Barbara_IdolHeal_01"
                        },
                        {
                            "$type": "AttachEffect",
                            "effectPattern": "Eff_Barbara_IdolHeal_03"
                        }
                    ],
                    "onRemoved": [
                        {
                            "$type": "RemoveUniqueModifier",
                            "modifierName": "UNIQUE_IdolHeal_Weather"
                        },
                        {
                            "$type": "AvatarExitCameraShot"
                        }
                    ]
                },
                "UNIQUE_IdolHeal_Weather": {
                    "duration": 2.5,
                    "isUnique": true,
                    "modifierMixins": [
                        {
                            "$type": "TriggerWeatherMixin",
                            "type": "Weather",
                            "weatherPattern": "Barbara_IdolHeal",
                            "transDuration": 0.5,
                            "duration": 2.5
                        }
                    ]
                },
                "Barbara_Invincible": {
                    "state": "Invincible"
                },
                "Barbara_IsGhostToEnemy": {
                    "onAdded": [
                        {
                            "$type": "AttachAbilityStateResistance",
                            "resistanceListID": 11002
                        }
                    ]
                },
                "IdolHeal_Eff_Timer": {
                    "duration": 0.3,
                    "onRemoved": [
                        {
                            "$type": "FireEffect",
                            "effectPattern": "Eff_Barbara_IdolHeal_02"
                        }
                    ]
                }
            }
        }
    },
    {
        "Default": {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Barbara_ReviveElemEnergy",
            "abilityMixins": [
                {
                    "$type": "ReviveElemEnergyMixin",
                    "type": "Both",
                    "period": 10,
                    "baseEnergy": 1,
                    "ratio": "%Barbara_ReviveElemEnergy_Ratio"
                }
            ],
            "abilitySpecials": {
                "Barbara_ReviveElemEnergy_Ratio": 1.0
            }
        }
    },
    {
        "Default": {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Barbara_ReBorn_Pre",
            "abilityMixins": [
                {
                    "$type": "DoReviveMixin",
                    "type": "OffStage",
                    "onKillActions": [
                        {
                            "$type": "DebugLog",
                            "doOffStage": true,
                            "content": "onKillActions Start!!!!!!"
                        },
                        {
                            "$type": "EntityDoSkill",
                            "doOffStage": true,
                            "skillID": 10076
                        }
                    ],
                    "onReviveActions": [
                        {
                            "$type": "EntityDoSkill",
                            "doOffStage": true,
                            "skillID": 10079
                        },
                        {
                            "$type": "EntityDoSkill",
                            "doOffStage": true,
                            "skillID": 10080
                        },
                        {
                            "$type": "DebugLog",
                            "doOffStage": true,
                            "content": "onReviveActions Start!!!!!!"
                        }
                    ]
                }
            ],
            "onAdded": [
                {
                    "$type": "UnlockSkill",
                    "skillID": 10076
                }
            ]
        }
    },
    {
        "Default": {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Barbara_ReBorn",
            "onAbilityStart": [
                {
                    "$type": "AvatarSkillStart",
                    "doOffStage": true,
                    "skillID": 10076,
                    "cdRatio": 1
                },
                {
                    "$type": "DebugLog",
                    "doOffStage": true,
                    "content": "10076 Start!!!!!!"
                },
                {
                    "$type": "ReviveAvatar",
                    "doOffStage": true,
                    "amountByTargetMaxHPRatio": "%HealHP",
                    "target": "CurLocalAvatar"
                }
            ],
            "abilitySpecials": {
                "HealHP": 1
            }
        }
    },
    {
        "Default": {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Barbara_ReBornEffect_01",
            "onAbilityStart": [
                {
                    "$type": "AvatarSkillStart",
                    "doOffStage": true,
                    "skillID": 10079,
                    "cdRatio": 1
                },
                {
                    "$type": "DebugLog",
                    "doOffStage": true,
                    "content": "10079 Start!!!!!!"
                },
                {
                    "$type": "FireEffect",
                    "doOffStage": true,
                    "target": "CurLocalAvatar",
                    "effectPattern": "Eff_Barbara_Heal_Spectator"
                }
            ]
        }
    },
    {
        "Default": {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Barbara_ReBornEffect_02",
            "onAbilityStart": [
                {
                    "$type": "AvatarSkillStart",
                    "doOffStage": true,
                    "skillID": 10080,
                    "cdRatio": 1
                },
                {
                    "$type": "DebugLog",
                    "doOffStage": true,
                    "content": "10080 Start!!!!!!"
                },
                {
                    "$type": "FireEffect",
                    "doOffStage": true,
                    "target": "CurLocalAvatar",
                    "effectPattern": "Eff_Barbara_Heal_Spectator_Light"
                }
            ]
        }
    },
    {
        "Default": {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Barbara_Constellation_4",
            "onAdded": [
                {
                    "$type": "ApplyModifier",
                    "modifierName": "Barbara_Constellation_ReviveElemEnergy_Handler"
                }
            ],
            "modifiers": {
                "Barbara_Constellation_ReviveElemEnergy_Handler": {
                    "onAttackLanded": [
                        {
                            "$type": "AddGlobalValue",
                            "key": "_ABILITY_Barbara_Constellation_ReviveElemEnergy_COUNT",
                            "value": 1,
                            "useLimitRange": true,
                            "maxValue": 5,
                            "minValue": 0,
                            "predicates": [
                                {
                                    "$type": "ByAttackTags",
                                    "attackTags": [
                                        "ExtraAttack"
                                    ]
                                }
                            ]
                        },
                        {
                            "$type": "SetGlobalValueToOverrideMap",
                            "globalValueKey": "_ABILITY_Barbara_Constellation_ReviveElemEnergy_COUNT",
                            "overrideMapKey": "Barbara_Constellation_ReviveElemEnergy_Number"
                        },
                        {
                            "$type": "Randomed",
                            "chance": 1,
                            "successActions": [
                                {
                                    "$type": "ApplyModifier",
                                    "modifierName": "ReviveElemEnergy_Trigger",
                                    "predicates": [
                                        {
                                            "$type": "ByAttackTags",
                                            "attackTags": [
                                                "ExtraAttack"
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                "ReviveElemEnergy_Trigger": {
                    "duration": 0.5,
                    "modifierMixins": [
                        {
                            "$type": "ReviveElemEnergyMixin",
                            "type": "Both",
                            "period": 0.3,
                            "baseEnergy": "%ReviveElemEnergy",
                            "ratio": "%Barbara_Constellation_ReviveElemEnergy_Number"
                        }
                    ],
                    "onAdded": [],
                    "onRemoved": [
                        {
                            "$type": "AddGlobalValue",
                            "key": "_ABILITY_Barbara_Constellation_ReviveElemEnergy_COUNT",
                            "value": -5,
                            "useLimitRange": true,
                            "maxValue": 5,
                            "minValue": 0
                        }
                    ]
                }
            },
            "abilitySpecials": {
                "Barbara_Constellation_ReviveElemEnergy_Number": 1,
                "ReviveElemEnergy": 1
            }
        }
    }
]